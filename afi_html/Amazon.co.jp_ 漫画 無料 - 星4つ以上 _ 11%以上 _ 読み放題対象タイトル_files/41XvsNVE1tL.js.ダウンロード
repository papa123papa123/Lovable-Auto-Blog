'use strict';(function(g){var f=window.AmazonUIPageJS||window.P,p=f._namespace||f.attributeErrors,b=p?p("EverywhereCartAsset",""):f;b.guardFatal?b.guardFatal(g)(b,window):b.execute(function(){g(b,window)})})(function(g,f,p){g.when("A","EwcUrl").register("EwcAjax",function(b,c){function a(){var a=document.querySelector("#ewc-sp-csrf");return a?a.getAttribute("content"):""}function e(e,h,m,k,r,w,g,t){return f.ajax({type:h,url:e,data:m,dataType:g||"html",timeout:5E3,beforeSend:function(b,c){/^(GET|HEAD|OPTIONS|TRACE)$/.test(b)||
b.setRequestHeader("anti-csrftoken-a2z",a())},success:function(a,f,r){var x=h&&"POST"===h.toUpperCase(),w=e&&-1!==e.indexOf(c.updateAction);x&&w&&b.trigger("ewc:cartUpdate:success");return k(a,f,r)},error:r,complete:w})}var f=b.$;return{fetch:function(a,b,c,k,f,h){return e(a,"GET",b,c,k,f,h)},post:function(a,b,c,k,f,h,g){return e(a,"POST",b,c,k,f,h,g)},url:c,getCSRFToken:a}});"use strict";g.when("A","EwcAjax","EWCLogger","EWCManipulationUpdates","a-popover","a-dropdown","SmartWagonSideSheet").register("UpdateAction",
function(b,c,a,e,h,q,n){function m(){return l(".ewc-active-cart--selected").find(".ewc-item:not(.ewc-item-deleted)").filter(function(d,a){return!l(a).data("removed")}).map(function(d,a){d=a.getAttribute("data-itemid");a=a.getAttribute("data-quantity")||1;return d+"|"+a})}function k(){l(".ewc-active-cart--selected").find(".ewc-item:not(.ewc-item-deleted)").map(function(d,a){d=a.getAttribute("data-asin");a=a.getAttribute("data-itemid");n.resetPopoverInstance("preload-"+d+"-"+a)})}function r(d,a){a>
d?b.trigger("haul-add-to-cart-update:success"):a<d&&b.trigger("haul-remove-from-cart-update:success")}function w(d){d.hide(400,function(){l(this).remove()})}function F(){l(".ewc-item-delete-error-container").addClass("aok-hidden");l(".ewc-item-update-error-container").addClass("aok-hidden");l(".ewc-item-sfl-error-container").addClass("aok-hidden")}function t(){l(".ewc-item").map(function(d,a){d=l(a);d.data("removed")&&w(d)})}function u(d){var a=d.find(".sc-quantity-update-message.sc-hidden");if(!(1>
a.length)){var c="quantity-popover-"+d.data("itemid"),e={content:a.contents(),name:c,width:250};h.create(d.find(".sc-action-quantity"),e).show();b.on("a:popover:invisible:"+c,function(d){h.remove(d.popover);a.remove()})}}function x(d,a){a&&a.split(",").map(function(a){a=d.find(".ewc-item[data-itemid\x3d"+a+"]");w(a)})}function G(a,b,c){a=l("#ewc-total-quantity");var d=parseInt(a.data("value")!==p?a.data("value"):a.val());f&&f.$Nav&&f.$Nav.when("api.setCartCount").run(function(a){a(parseInt(d),!0)})}
function y(){g.now("QuantitySelectorWidget","QuantitySelectorUtils").execute(function(a,b){if(a!==p&&b!==p){var d=l(".qs-widget-cart span[data-action\x3d'qs-widget-button-decl'], .ewc-sideSheet-visible span[data-action\x3d'qs-widget-button-decl']").toArray().map(function(a,d){return JSON.parse(a.getAttribute("data-qs-widget-button-decl")).qsUID});0<b.getActivatedQsWidgets().filter(function(a){return-1!==d.indexOf(a)}).length&&a.hideAllPopover()}})}function A(){if(""!==H){var a=q.getSelect("ewc-kebab-menu-"+
H);a&&a.update({})}}function K(d,h){var C=h.requestType+I++;a.logUECounter("EWC:"+h.logType+":Request");a.logCustomerClick(C);var r=d.data.itemid,g=d.data.cartType||"",B=g.replace("_Cart",""),q=d.data.brandId,n=d.data.asin,u=l("#sc-item-"+r).closest(".ewc-item"),y=u.closest(".ewc-active-cart"),p=u.find(".sc-list-loading-spinner");d=u.data("item-count");p.removeClass("aok-hidden");var v=u.data("related-item-ids")||"";v&&(r+=","+v);t();F();var z=m(),D={actionItemID:r,actionType:h.actionType,cartType:B};
q&&(D.almBrandId=q);D.activeItems=z?z.toArray():null;c.post(c.url.updateAction+h.refType+d,l.param(D,!0),function(d){a.logUECounter("EWC:"+h.logType+":Request:Success");"Fresh"===B||"Local_Market"===B?(L(n,!0),k()):b.trigger("ewc-quantity-update",g,n,0);d.manipulations.map(function(a){e.execute(a,w)});x(y,v);G(y,r,g);u.addClass("ewc-wider-compact-view-only");f.$Nav.when("$","config").run(function(a,d){if(d&&d.ewc&&d.ewc.flyout){var b=d.ewc.flyout.cache();b&&f.setTimeout(function(){b.updateCacheAndEwcContainer()},
500)}});a.logCriticalFeatureLoaded(C,"1");N(u)},function(d){d&&(u.find(h.errorMessageSelector).removeClass("aok-hidden"),a.logUECounter("EWC:"+h.logType+":Request:Failed"),a.logError(d,{message:"EWC update request failed"}))},function(){p.addClass("aok-hidden");a.logContentLoaded(C)},"json")}function N(a){a=a.find(".ewc-item-remove-msg");a.length&&(a.attr("tabindex","-1"),a[0].focus())}function O(a){return a.isItemSoldByCount?!JSON.parse(a.isItemSoldByCount):a.pickingStrategy?"bulk"===a.pickingStrategy||
"catch"===a.pickingStrategy:!1}function L(a,c){var d=document.querySelectorAll('div[data-asin\x3d"'+a+'"].ewc-item');if(1===d.length&&d[0]){try{var e=d[0].querySelector("span[data-action\x3d'qs-widget-button-decl']");var k=JSON.parse(e.getAttribute("data-qs-widget-button-decl")).qsUID}catch(R){k=void 0}(d=d[0].querySelector('[id*\x3d"qs-widget-button-"][id$\x3d"-announce"]'))&&d.textContent&&b.trigger("quantity-selector-widget:sync-stepper-quantity",a,c?"0":d.textContent,null,k)}}function M(a,b,c){c||
(c={});c=!0===c.suppressSpinner?!0:!1;var d=a.closest(".ewc-active-cart").data("cartType").replace(/_Cart.*/g,""),e=a.data("minquantity");switch(b){case (e+9).toString()&&"Bazaar"!==d:a.find(".sc-quantity-stepper").hide();a.find(".sc-quantity-textfield-input-group").removeClass("sc-hidden");a.find(".sc-quantity-textfield").focus();break;default:J(a,b,{suppressSpinner:c})}}function P(a,b){return a&&a.length&&(a=a.find('[name\x3d"sc-quantity"]'),a.length&&(a=a.data("unit-of-measure"))&&a.dimension&&
a.unit)?(a.dimension=a.dimension.toUpperCase(),a.unit=a.unit.toUpperCase(),{unitOfMeasure:a,value:b}):null}function J(d,k,h){h||(h={});var x=!0===h.suppressSpinner?!0:!1,g=d.data("itemid");h="ewc-update-"+I++;a.logUECounter("EWC:Update:Request");a.logCustomerClick(h);var q=d.closest(".ewc-active-cart"),B=q.data("cartType"),y=q.data("cartType").replace(/_Cart.*/g,"");if(!x){var C=d.find(".sc-list-loading-spinner");C.removeClass("aok-hidden")}h=d.data("brandId");var p=d.data("item-count"),A=d.data("asin"),
v=d.data("quantity"),z=P(d,k);z&&z.unitOfMeasure&&z.unitOfMeasure.dimension&&"WEIGHT"===z.unitOfMeasure.dimension&&0<k&&(k=1);t();F();var D=m(),E={actionItemID:g,actionType:"update-quantity",cartType:y,activeItems:D?D.toArray():null,quantity:k};z&&(E.unitOfMeasureQuantity=JSON.stringify(z));h&&(E.almBrandId=h);c.post(c.url.updateAction+("?ref_\x3dewc_qty_update_"+p+"|"+v+"|"+E.quantity),l.param(E,!0),function(c){a.logUECounter("EWC:Update:Request:Success");n.resetPopoverInstance("preload-"+d.attr("data-asin")+
"-"+g);c.manipulations.map(function(a){e.execute(a,w)});G(q,g,B);"Bazaar"===y&&r(v,E.quantity);u(l("#sc-item-"+g));b.trigger("ewc-quantity-update",B,A,k);f.$Nav.when("$","config").run(function(a,d){if(d&&d.ewc&&d.ewc.flyout){var b=d.ewc.flyout.cache();b&&f.setTimeout(function(){b.updateCacheAndEwcContainer()},500)}})},function(b){d.find(".ewc-item-update-error-container").removeClass("aok-hidden");a.logUECounter("EWC:Quantity:Request:Failed");a.logError(b,{message:"EWC update request failed"})},function(){x||
C.addClass("aok-hidden");a.logContentLoaded("ewc-update")},"json")}var l=b.$,I=1,Q=1,H="";l(".ewc-scroller").bind("scroll",function(){y();A()});l(f).bind("scroll",function(){y();if(q.getSelect){var a=q.getSelect(l('[name\x3d"undefined"]'));a&&a.update({})}A()});b.declarative("ewc-kebab-menu-click","click",function(a){H=a.data.itemid});b.declarative("ewc-delete-item","click",function(a){K(a,{actionType:"delete",requestType:"ewc-delete-",logType:"Delete",refType:"?ref_\x3dewc_delete_",errorMessageSelector:".ewc-item-delete-error-container"})});
b.declarative("ewc-save-for-later","click",function(a){K(a,{actionType:"save-for-later",requestType:"ewc-sfl-",logType:"SaveForLater",refType:"?ref_\x3dewc_sfl_",errorMessageSelector:".ewc-item-sfl-error-container"})});b.on("quantity-selector-widget:action:QuantityChanged",function(d){var b="ewc-modify-"+I++;a.logUECounter("EWC:Modify:Request");a.logCustomerClick(b);var h=d.itemId,x=l("#sc-item-"+d.itemId),g=x.closest(".ewc-active-cart"),r=g.data("cartType"),q=g.data("cartType").replace(/_Cart.*/g,
""),n=x.find(".sc-list-loading-spinner");n.removeClass("aok-hidden");b=x.data("localmarketBrand");var y=x.data("item-count"),p=x.data("quantity"),A=d.asin;t();F();var v=m();v={actionItemID:h,actionType:"update-quantity",cartType:q,activeItems:v?v.toArray():null};b&&(v.almBrandId=b);O(d)?(v.amountInUom=d.quantity,v.quantity="1"):v.quantity=d.quantity;c.post(c.url.updateAction+("?ref_\x3dewc_qty_update_alm_"+y+"|"+p+"|"+v.quantity),l.param(v,!0),function(b){a.logUECounter("EWC:Modify:Request:Success");
"Fresh"!==q&&"Local_Market"!==q||k();b.manipulations.map(function(a){e.execute(a,w)});L(A,!1);G(g,h,r);u(x);f.$Nav.when("$","config").run(function(a,b){if(b&&b.ewc&&b.ewc.flyout){var d=b.ewc.flyout.cache();d&&f.setTimeout(function(){d.updateCacheAndEwcContainer()},500)}});a.logCriticalFeatureLoaded("ewc-modify","1")},function(a){},function(){n.addClass("aok-hidden");a.logContentLoaded("ewc-modify")},"json")});b.declarative("ewc-buy-item","click",function(b){var d="ewc-buynow-"+Q++;a.logUECounter("EWC:BuyNow:Request");
a.logCustomerClick(d);l("#ewc-buyNow-form-"+b.data.itemid).submit()});b.declarative("sc-item-action","click",function(a){M(l("#sc-item-"+a.data.itemID),String(a.data.quantity))});b.on("a:stepper:value:change:sc-quantity",function(a){var b=l(a.stepper.getElement()).closest(".ewc-item");0<b.length&&(a.stepper.setStatus("loading"),M(b,String(a.newValue),{suppressSpinner:!0}))});l("#nav-flyout-ewc").delegate(".sc-quantity-textfield","keydown",function(a){var b=l.event.fix(a),d=l(this),c=d.parent().closest(".ewc-item"),
e=b.which;13===e||8===e||46===e||9===e||48<=e&&57>=e||96<=e&&105>=e?c.find(".sc-update-link").removeClass("aok-hidden"):a.preventDefault();13===b.which&&(10>d.val()&&(c.find(".sc-quantity-textfield-input-group").addClass("sc-hidden"),c.find(".sc-quantity-stepper").show()),d.val().match(/^\d+$/)?J(c,parseInt(d.val())):c.find(".ewc-item-update-error-container").removeClass("aok-hidden"))});l("#nav-flyout-ewc").delegate(".sc-update-link","click",function(a){a=l(this).closest(".sc-action-quantity").find(".sc-quantity-textfield");
var b=a.parent().closest(".ewc-item");a.val().match(/^\d+$/)?J(b,parseInt(a.val())):b.find(".ewc-item-update-error-container").removeClass("aok-hidden")})});"use strict";g.when("A","load").execute("CFSDetail",function(b){f.amz_js_PopWin||(f.amz_js_PopWin=function(b,a,e){f.open(b,a,e).focus();return!1})});"use strict";g.when("A","load").execute("CollapseFullHeight",function(b){var c=b.$;c(document).click(function(){var a=c(".ewc-compact-head");!0===a.hasClass("ewc-compact-head--open")&&(a.removeClass("ewc-compact-head--open"),
c(".ewc-compact-head--multiple-carts .ewc-multi-cart-dropdown:visible").addClass("aok-hidden"))})});(function(b,c){b&&b.when("$","config","flyouts.anchor").run("ewc.resetArrowTemp",function(a,b,c){a(".nav-ewc-arrow").length&&a(".nav-ewc-arrow").detach().appendTo(c())})})(f.$Nav,g);"use strict";g.when("A","InitializeCompactBody","load","EWCLogger").register("EWCRefreshCallback",function(b,c,a,e){return{update:function(){e.logUECounter("EWC:Refresh Callback:Request:Success")}}});"use strict";g.when("A",
"ShowMultiCart","SmartWagonSideSheet","load").register("InitializeCompactEWC",function(b,c,a){function e(){b.declarative("ewc-cart-header-click",["click"],c.onCartHeaderClick);h()}function h(){var b=f("#nav-flyout-ewc .nav-ewc-content")[0];b&&(new MutationObserver(function(){a.resetPopoverInstance()})).observe(b,{childList:!0})}var f=b.$;e();return{init:e}});"use strict";g.when("A","SetCompactBodyHeight","SetBodyScrollBackground","SmartWagonSideSheet","load").register("InitializeCompactBody",function(b,
c,a,e){var h=b.$;h(f).bind("resize",function(){a.toggleBackgroundColorOnScrollState()});return{initializeCompactBody:function(h){c.setBodyHeight();a.toggleBackgroundColorOnScrollState();!h&&e.resetPopoverInstance&&e.resetPopoverInstance();b.trigger("quantity-selector-widget:initialize")}}});"use strict";g.when("A").execute("LocalMarketEverywhereCartClearPurchase",function(b){b.declarative("create-new-order-ultra-fast-grocery-action","click",function(c){var a=c.data.reservationData;b.$.ajax({type:"POST",
url:"/uff/order-mod/selected-order/clear",data:{addressId:a.addressId,brandId:a.brandId,"anti-csrftoken-a2z":c.data.csrf},success:function(a,b){f.location.reload(!0)}})})});"use strict";g.when("A","load").register("SetAbsolutePosition",function(b){var c=b.$;return{setBodyAndHeadToAbsolutePosition:function(){"absolute"!==c("#ewc-compact-body").css("position")&&(c("#ewc-compact-body").css({position:"absolute"}),c(".ewc-compact-head").css({position:"absolute"}))}}});"use strict";g.when("A","load").register("SetBodyScrollBackground",
function(b){var c=b.$;return{toggleBackgroundColorOnScrollState:function(){var a=c("#ewc-compact-body .ewc-active-cart--selected");a.prop("scrollHeight")>c("#ewc-compact-body").innerHeight()?a.addClass("ewc-compact-body--scroll"):a.removeClass("ewc-compact-body--scroll")}}});"use strict";g.when("A","jQuery","load").register("SetCompactBodyHeight",function(b,c){return{setBodyHeight:function(){var a={height:"calc(100% - "+c(".ewc-compact-head").height()+"px)"};c("#ewc-compact-body").css(a)}}});"use strict";
g.when("A","SmartWagonSideSheet","load").register("ShowMultiCart",function(b,c){return{onCartHeaderClick:function(a){var e=b.$,h=e(".ewc-multi-cart-dropdown");if(!(1>=h.find(".ewc-cart-header").size())){var g=a.$event;a=a.$currentTarget.parent(".ewc-cart-header");var n=e(".ewc-compact-head");if(n.hasClass("ewc-compact-head--open")){if(!a.hasClass("ewc-cart-header--selected")){c.removeSmartWagon();var m=a.attr("data-cart-type");e(".ewc-cart-header.ewc-cart-header--selected").removeClass("ewc-cart-header--selected");
e(".ewc-active-cart.ewc-active-cart--selected").removeClass("ewc-active-cart--selected");e(".ewc-scroller.ewc-scroller--selected").removeClass("ewc-scroller--selected");e(".ewc-compact-actions.ewc-compact-actions--selected").removeClass("ewc-compact-actions--selected");a.addClass("ewc-cart-header--selected");e(".ewc-cart-header[data-cart-type\x3d'"+m+"']").addClass("ewc-cart-header--selected");e(".ewc-active-cart[data-cart-type\x3d'"+m+"']").addClass("ewc-active-cart--selected");e(".ewc-compact-actions[data-cart-type\x3d'"+
m+"']").addClass("ewc-compact-actions--selected");e(".ewc-active-cart[data-cart-type\x3d'"+m+"']").parent().addClass("ewc-scroller--selected");f.$Nav.when("$","config").run(function(a,b){if(b&&b.ewc&&b.ewc.flyout){var c=b.ewc.flyout.cache();c&&f.setTimeout(function(){c.updateCacheAndEwcContainer()},500)}})}h.addClass("aok-hidden");n.removeClass("ewc-compact-head--open")}else h.removeClass("aok-hidden"),n.addClass("ewc-compact-head--open");g.stopImmediatePropagation()}}}});"use strict";g.when("A").register("EWCManipulationUpdates",
function(b){var c=b.$;return{execute:function(a,b){var e=c(a.selector),f=a.content;switch(a.type){case "updateData":var g=a.dataAttributes;Object.keys(g).map(function(a){e.data(a,g[a])});break;case "remove":b(e);break;case "show":e.removeClass("aok-hidden");break;case "prepend":e.prepend(f);break;case "append":e.append(f);break;case "insert":e.after(f);break;case "replace":e.replaceWith(f)}}}});"use strict";g.when("A","a-popover","EwcAjax","query-param-helper").register("SmartWagonSideSheet",function(b,
c,a,e){function h(){var a=[];m(".ewc-active-cart--selected").find(".ewc-item").each(function(b,c){a.push(m(c).data("asin"))});return a.slice(0,30).join(";")}function q(){k.$container.removeClass("ewc-sideSheet-visible");u.hide();k.$container.animate({right:"-500px"},{duration:k.transitionDuration,complete:function(){r.hide();k.$container.addClass("aok-hidden");m("#nav-flyout-ewc").css("z-index","0")}})}function n(){!1!==k.$container.hasClass("ewc-sideSheet-visible")&&q()}var m=b.$,k={};k.$container=
b.$('\x3cdiv id\x3d"ewc-smart-wagon-desktop-sideSheet" class\x3d"celwidget" cel_widget_id\x3d"ewc-smart-wagon"\x3e\x3c/div\x3e');k.$container.addClass("aok-hidden");k.$container.appendTo("#nav-flyout-ewc");k.transitionDuration=500;var r=b.$('\x3cdiv id\x3d"ewc-smart-wagon-content"\x3e\x3c/div\x3e');r.appendTo(k.$container);var w=b.$("\x3cdiv id\x3d'ewc-smart-wagon-close-button' class\x3d'a-declarative' data-action\x3d'a-popover-floating-close'\x3e\x3c/div\x3e");w.appendTo(k.$container);w.click(n);
var p=b.$("\x3cdiv id\x3d'ewc-smart-wagon-loading-spinner' class\x3d'a-row a-spacing-top-medium aok-hidden'\x3e\x3cdiv class\x3d'a-spinner-wrapper'\x3e\x3cspan class\x3d'a-spinner a-spinner-medium'\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e");p.appendTo(k.$container);var t={};var u=b.$("\x3cdiv id\x3d'ewc-smart-wagon-popover-lgtbox' class\x3d'a-declarative a-modal' data-action\x3d'a-popover-floating-close'\x3e\x3c/div\x3e");u.hide();u.appendTo("#navbar");u.click(n);b.declarative("ewc-popover","mouseenter",
function(a){var e=a.data;t[a.data.name]||(e.dataStrategy="preload",t[a.data.name]=c.create(a.$target,e));t[a.data.name].show();a=b.state("changeProductRecommendationsPopoverText");f.ue&&f.ue.trigger&&(a&&a.state?f.ue.trigger("PAX_EWC_CHANGE_RECS_POPUP_TEXT_816203","T1"):f.ue.trigger("PAX_EWC_CHANGE_RECS_POPUP_TEXT_816203","C"))});b.declarative("ewc-popover","click",function(a){f.location=a.$currentTarget.find(".sc-product-link").attr("href")});w=function(){Object.keys(t).map(function(a){t[a]&&t[a].isActive()&&
t[a].hide()})};b.on("scroll",w);m(".ewc-scroller").bind("scroll",w);b.declarative("view-related-items","click",function(b){c.get(b.$currentTarget.closest(".a-popover")).hide();p.removeClass("aok-hidden");var f=m(".ewc-subtotal-value \x3e .ewc-currency-symbol")[0]?m(".ewc-subtotal-value \x3e .ewc-currency-symbol")[0].value+b.data.price:null;a.fetch("/cart/ewc/smart-wagon/"+b.data.asin,{asinsInCart:h(),currency:f,smartWagonType:b.data.smartWagonType,almStoreId:b.data.almStoreId,almBrandId:b.data.almBrandId,
unitOfMeasurePrice:b.data.unitOfMeasurePrice,pageAsin:b.data.asin,sourceItemId:b.data.itemid,pickUpInStore:b.data.pickUpInStore},function(a){r.html(a);r.show();g.when("A","p13n-sc-carousel").execute("activateSmartWagonCarousels",function(a,b){a=a.$;a("#smart-wagon-recommendations").find(".p13n-sc-carousel").each(b.initializeElement)});e.overwriteProductUrls(b.data.itemid)},function(a){a&&n()},function(){p.addClass("aok-hidden")});k.$container.css("right");k.$container.removeClass("aok-hidden");f=
m("#nav-flyout-ewc")[0].offsetWidth||0;k.$container.animate({right:f+"px"},{duration:k.transitionDuration,complete:function(){k.$container.addClass("ewc-sideSheet-visible")}},"linear");m("#nav-flyout-ewc").css("z-index","6000");u.show()});b.declarative("ewc-sw-continue-shopping","click",function(a){n()});return{removeSmartWagon:n,resetPopoverInstance:function(a){var b=t[a];if(b)return c.remove(b.$trigger),delete t[a];Object.keys(t).map(function(a){c.remove(t[a].$trigger)});t={}}}});"use strict";g.when("A").register("query-param-helper",
function(b){function c(a,b){if(b&&b.length&&a&&a.length){var c=a.prop("href");c&&c.length&&(b=c.substring(0,c.indexOf("?"))+b,a.attr("href",b))}}var a=b.$;return{overwriteProductUrls:function(b){var e=a("#ewc-smart-wagon-desktop-sideSheet a:has(.sc-product-title)"),f=a(".ewc-smart-wagon-item-image-container a");(b=a('div.ewc-item[data-itemid\x3d"'+b+'"]').find("a.sc-product-link"))&&1===b.length&&(b=b.prop("href"))&&b.length&&(b=b.substring(b.indexOf("?"),b.length),c(f,b),c(e,b))}}});"use strict";
g.register("EWCLogger",function(){function b(b,a,e){f.uet&&"function"===typeof f.uet&&(e?f.uet(b,a,e):f.uet(b,a))}return{logContentLoaded:function(b){f.uex&&"function"===typeof f.uex&&f.uex("ld",b)},logCriticalFeatureLoaded:function(c,a){b("cf",c,a)},logCustomerClick:function(c){b("tc",c)},logUECounter:function(b,a){"undefined"!==typeof f.ue&&"undefined"!==typeof f.ue.count&&f.ue.count(b,a||1)},logError:function(b,a){f.ueLogError&&(a=a||{},a.logLevel=a.logLevel||"ERROR",a.attribution=a.attribution||
"EWCAsset: Website \x3e Amazon Shopping Cart \x3e EWC",a.message=a.message||"",f.ueLogError(b,a))}}});"use strict";g.register("EwcUrl",function(){return{updateAction:"/cart/ewc/update"}});"use strict";g.when("A","jQuery","a-stepper","pvw-drop-down").register("VariableWeightUtils",function(b,c,a,e){function f(a){a=a.find("[data-quantity-click-action-vw]");return 0<a.length?a.data().quantityClickActionVw:p}function q(b){var e=c(b.$event.currentTarget).closest('[name\x3d"sc-quantity"]');if(e=f(e))b=
c(b.$event.currentTarget).closest("[data-a-component\x3dstepper]"),b=a.getStepper(b),e.currentQuantity=b.getValue();return e}function n(a,b,c){var e=a.getDecimalPrecision()?a.getDecimalPrecision():0,f=c.toFixed(e);b&&g.now("pvw-weight-utils").execute(function(a){if(a){var g=a.getWeightUnitSymbol(b);f=a.formatWeight(c,g,e)}});return f}function m(f){var g=q(f);if(g){var k=c(f.$event.currentTarget).closest("[data-a-component\x3dstepper]"),h=a.getStepper(k);f=k.parent().find("pvw-dropdown-container");
var m=k.closest(".ewc-item");e.openDropdown(g,function(a){b.trigger("a:stepper:value:change:sc-quantity",{stepper:h,$stepperElement:k,newValue:a,metaInfo:g})},k,f,m.data("asin"))}}b.declarative("a-stepper-spinbutton","click",m);b.declarative("a-stepper-chevron","click",m);return{getStepperContainerFromSelector:function(a){return c(a).find("[data-a-component\x3dstepper]")},getMetaFromDeclarativeAction:f,getStepper:function(b){return a.getStepper(b)},setValueForExpandedStepper:function(a,b,c){g.now("pvw-expanded-stepper").execute(function(e){if(b){var f=
n(a,b.sellingUnit,c);e.setExpandedStepperWithRegulatoryText(a,f,c,b)}})}}})});